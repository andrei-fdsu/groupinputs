/**
 * GroupInputs v. 0.8.7
 * @author Pavel Kornilov <pk@ostrovok.ru> <lusever@lusever.com>
 * https://github.com/lusever/groupinputs
 * MIT Licensed
 */
!function(e){"use strict";var t=!!window.opera,n="maxlength";function a(e,t,n,a){if(/iPad|iPhone/.test(navigator.platform)){const l=document.createElement("input");l.setAttribute("type","text"),l.style.position="absolute",l.style.opacity=0,l.style.height=0,l.style.fontSize="16px",document.body.prepend(l),l.focus(),setTimeout(function(){e.focus(),i(t,n,a),l.remove()},100)}else setTimeout(function(){e.focus(),i(t,n,a)},100)}function i(e,t,n){var a;if(void 0===t){if(t=0,n=0,"selectionStart"in e)t=e.selectionStart,n=e.selectionEnd;else if(e.createTextRange){var i=(a=document.selection.createRange()).duplicate();a.parentElement()===e&&(n=(t=-i.moveStart("character",-1e5))+a.text.length)}return{start:t,end:n}}e.setSelectionRange?e.setSelectionRange(t,n):document.selection&&document.selection.createRange&&((a=e.createTextRange()).collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select())}e.fn.groupinputs=function(){var e=this,l=[],o=0;function r(t,n){var o,r,c,s=t[0].value,u=i(t[0]).end,h=s.slice(0,u),g=s.slice(u),d=n.maxlength-g.length,p=!1;for(c=e.length-1;c>n.index;c--)d+=l[c]-e[c].value.length;if(h.length>d?(h=h.slice(0,d),r=d):r=u,s.length>n.maxlength){var f,m;if(t[0].value=(h+g).slice(0,n.maxlength),r<=n.maxlength&&(i(t[0],r,r),p=!0),(o=(h+g).slice(n.maxlength)).length)for(r-=Math.min(n.maxlength,h.length);e[++c]&&(f=l[c],o+=e[c].value,e.eq(c).val(o.slice(0,f)).change(),!(o.length<=f));)m=e[c].value.length,p||(r<f&&(p=!0,a(e.eq(c),e[c],r,r)),r-=m),o=o.slice(f);p||a(e.eq(c),e[c],r,r)}}function c(l){var c,s=l.type,u=l.data,h=l.data.elem,g=l.data.index;t&&"keypress"===s&&(s="keydown");if("keydown"===s&&39===l.keyCode&&(c=i(h[0])).start===this.value.length&&g!==e.length-1&&(a(e.eq(g+1),e[g+1],0,0),l.preventDefault()),"keydown"===s&&(8===l.keyCode||37===l.keyCode)&&(c=i(h[0])).start===c.end&&0===c.start&&0!==g){var d=e.eq(g-1),p=d.val().length;a(d,d[0],p,p),37===l.keyCode&&l.preventDefault()}if("keyup"===s||"keydown"===s){if(l.keyCode<48)return;if("keyup"===s&&u.ignoreNextKeyup)return void(u.ignoreNextKeyup=!1);if(l.metaKey)return void(u.ignoreNextKeyup=!0);(c=i(h[0])).start===c.end&&c.start===this.value.length&&g!==e.length-1&&this.value.length===u.maxlength&&a(e.eq(g+1),e[g+1],0,0)}"paste"===s&&h.attr(n,o),"propertychange"!==s&&"input"!==s||h.attr(n)!==u.maxlength&&setTimeout(function(){r(h,u),h.attr(n,u.maxlength)},0),"input"===s&&t&&r(h,u)}return e.each(function(t){var a=e.eq(t),i=+a.attr(n);o+=i,l.push(i),a.on("keydown keypress keyup input paste propertychange",{elem:a,index:t,maxlength:i},c)}),t&&e.attr(n,o),e}}(jQuery);